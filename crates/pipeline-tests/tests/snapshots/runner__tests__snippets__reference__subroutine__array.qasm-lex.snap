---
source: crates/pipeline-tests/tests/runner.rs
expression: lex_snap
---
id: tests/snippets/reference/subroutine/array.qasm
expect-lex: Todo
--- source ---
// lex: todo
// parse: todo
// sema: todo

def test_array_1(mutable array[uint[16], 4, 2] a) {}
def test_array_2(readonly array[uint[16], 4, 2] a) {}
def test_array_3(mutable array[uint[16], #dim=2] a) {}
def test_array_4(readonly array[uint[16], #dim=2*n] a) {}
def test_array_5(readonly array[int[8], #dim=1] a, mutable array[complex[float[64]], #dim=3] b, readonly array[complex[float[64]], 2, 2] c) -> int[8] {}
--- lexer ---
ok: false
errors: 1
[0] LineComment "// lex: todo" @0..12
[1] Whitespace "\n" @12..13
[2] LineComment "// parse: todo" @13..27
[3] Whitespace "\n" @27..28
[4] LineComment "// sema: todo" @28..41
[5] Whitespace "\n\n" @41..43
[6] Ident "def" @43..46
[7] Whitespace " " @46..47
[8] Ident "test_array_1" @47..59
[9] OpenParen "(" @59..60
[10] Ident "mutable" @60..67
[11] Whitespace " " @67..68
[12] Ident "array" @68..73
[13] OpenBracket "[" @73..74
[14] Ident "uint" @74..78
[15] OpenBracket "[" @78..79
[16] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 2 } "16" @79..81
[17] CloseBracket "]" @81..82
[18] Comma "," @82..83
[19] Whitespace " " @83..84
[20] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "4" @84..85
[21] Comma "," @85..86
[22] Whitespace " " @86..87
[23] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "2" @87..88
[24] CloseBracket "]" @88..89
[25] Whitespace " " @89..90
[26] Ident "a" @90..91
[27] CloseParen ")" @91..92
[28] Whitespace " " @92..93
[29] OpenBrace "{" @93..94
[30] CloseBrace "}" @94..95
[31] Whitespace "\n" @95..96
[32] Ident "def" @96..99
[33] Whitespace " " @99..100
[34] Ident "test_array_2" @100..112
[35] OpenParen "(" @112..113
[36] Ident "readonly" @113..121
[37] Whitespace " " @121..122
[38] Ident "array" @122..127
[39] OpenBracket "[" @127..128
[40] Ident "uint" @128..132
[41] OpenBracket "[" @132..133
[42] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 2 } "16" @133..135
[43] CloseBracket "]" @135..136
[44] Comma "," @136..137
[45] Whitespace " " @137..138
[46] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "4" @138..139
[47] Comma "," @139..140
[48] Whitespace " " @140..141
[49] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "2" @141..142
[50] CloseBracket "]" @142..143
[51] Whitespace " " @143..144
[52] Ident "a" @144..145
[53] CloseParen ")" @145..146
[54] Whitespace " " @146..147
[55] OpenBrace "{" @147..148
[56] CloseBrace "}" @148..149
[57] Whitespace "\n" @149..150
[58] Ident "def" @150..153
[59] Whitespace " " @153..154
[60] Ident "test_array_3" @154..166
[61] OpenParen "(" @166..167
[62] Ident "mutable" @167..174
[63] Whitespace " " @174..175
[64] Ident "array" @175..180
[65] OpenBracket "[" @180..181
[66] Ident "uint" @181..185
[67] OpenBracket "[" @185..186
[68] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 2 } "16" @186..188
[69] CloseBracket "]" @188..189
[70] Comma "," @189..190
[71] Whitespace " " @190..191
[72] InvalidIdent "#" @191..192
[73] Ident "dim" @192..195
[74] Eq "=" @195..196
[75] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "2" @196..197
[76] CloseBracket "]" @197..198
[77] Whitespace " " @198..199
[78] Ident "a" @199..200
[79] CloseParen ")" @200..201
[80] Whitespace " " @201..202
[81] OpenBrace "{" @202..203
[82] CloseBrace "}" @203..204
[83] Whitespace "\n" @204..205
[84] Ident "def" @205..208
[85] Whitespace " " @208..209
[86] Ident "test_array_4" @209..221
[87] OpenParen "(" @221..222
[88] Ident "readonly" @222..230
[89] Whitespace " " @230..231
[90] Ident "array" @231..236
[91] OpenBracket "[" @236..237
[92] Ident "uint" @237..241
[93] OpenBracket "[" @241..242
[94] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 2 } "16" @242..244
[95] CloseBracket "]" @244..245
[96] Comma "," @245..246
[97] Whitespace " " @246..247
[98] InvalidIdent "#" @247..248
[99] Ident "dim" @248..251
[100] Eq "=" @251..252
[101] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "2" @252..253
[102] Star "*" @253..254
[103] Ident "n" @254..255
[104] CloseBracket "]" @255..256
[105] Whitespace " " @256..257
[106] Ident "a" @257..258
[107] CloseParen ")" @258..259
[108] Whitespace " " @259..260
[109] OpenBrace "{" @260..261
[110] CloseBrace "}" @261..262
[111] Whitespace "\n" @262..263
[112] Ident "def" @263..266
[113] Whitespace " " @266..267
[114] Ident "test_array_5" @267..279
[115] OpenParen "(" @279..280
[116] Ident "readonly" @280..288
[117] Whitespace " " @288..289
[118] Ident "array" @289..294
[119] OpenBracket "[" @294..295
[120] Ident "int" @295..298
[121] OpenBracket "[" @298..299
[122] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "8" @299..300
[123] CloseBracket "]" @300..301
[124] Comma "," @301..302
[125] Whitespace " " @302..303
[126] InvalidIdent "#" @303..304
[127] Ident "dim" @304..307
[128] Eq "=" @307..308
[129] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "1" @308..309
[130] CloseBracket "]" @309..310
[131] Whitespace " " @310..311
[132] Ident "a" @311..312
[133] Comma "," @312..313
[134] Whitespace " " @313..314
[135] Ident "mutable" @314..321
[136] Whitespace " " @321..322
[137] Ident "array" @322..327
[138] OpenBracket "[" @327..328
[139] Ident "complex" @328..335
[140] OpenBracket "[" @335..336
[141] Ident "float" @336..341
[142] OpenBracket "[" @341..342
[143] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 2 } "64" @342..344
[144] CloseBracket "]" @344..345
[145] CloseBracket "]" @345..346
[146] Comma "," @346..347
[147] Whitespace " " @347..348
[148] InvalidIdent "#" @348..349
[149] Ident "dim" @349..352
[150] Eq "=" @352..353
[151] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "3" @353..354
[152] CloseBracket "]" @354..355
[153] Whitespace " " @355..356
[154] Ident "b" @356..357
[155] Comma "," @357..358
[156] Whitespace " " @358..359
[157] Ident "readonly" @359..367
[158] Whitespace " " @367..368
[159] Ident "array" @368..373
[160] OpenBracket "[" @373..374
[161] Ident "complex" @374..381
[162] OpenBracket "[" @381..382
[163] Ident "float" @382..387
[164] OpenBracket "[" @387..388
[165] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 2 } "64" @388..390
[166] CloseBracket "]" @390..391
[167] CloseBracket "]" @391..392
[168] Comma "," @392..393
[169] Whitespace " " @393..394
[170] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "2" @394..395
[171] Comma "," @395..396
[172] Whitespace " " @396..397
[173] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "2" @397..398
[174] CloseBracket "]" @398..399
[175] Whitespace " " @399..400
[176] Ident "c" @400..401
[177] CloseParen ")" @401..402
[178] Whitespace " " @402..403
[179] Minus "-" @403..404
[180] Gt ">" @404..405
[181] Whitespace " " @405..406
[182] Ident "int" @406..409
[183] OpenBracket "[" @409..410
[184] Literal { kind: Int { base: Decimal, empty_int: false }, suffix_start: 1 } "8" @410..411
[185] CloseBracket "]" @411..412
[186] Whitespace " " @412..413
[187] OpenBrace "{" @413..414
[188] CloseBrace "}" @414..415
[189] Whitespace "\n" @415..416
